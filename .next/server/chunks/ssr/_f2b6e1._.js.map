{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/admin/Desktop/GITHUB/TelegramShopFrontend/src/app/page.js"],"sourcesContent":["'use client'; // Убедитесь, что это клиентский компонент\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { WebApp } from '@twa-dev/sdk';\r\n\r\nexport default function Home() {\r\n  const [validationStatus, setValidationStatus] = useState('Проверка...');\r\n  const [validationColor, setValidationColor] = useState('text-gray-600');\r\n\r\n  useEffect(() => {\r\n    // Инициализация Telegram Web App\r\n    WebApp.ready();\r\n\r\n    // Проверка наличия initData\r\n    if (!WebApp.initData || WebApp.initData.length === 0) {\r\n      setValidationStatus('Ошибка: нет данных от Telegram!');\r\n      setValidationColor('text-red-500');\r\n      return;\r\n    }\r\n\r\n    console.log('Telegram initData:', WebApp.initData);\r\n\r\n    // Отправка данных на сервер для валидации\r\n    const validateUser = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          'https://cardstradebackend20250302140309-g0abauhjbbheehh0.israelcentral-01.azurewebsites.net/api/v1/telegram/validate',\r\n          {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ InitData: WebApp.initData }),\r\n          }\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Ошибка HTTP: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        // Обработка результата валидации\r\n        if (result.isValid) {\r\n          setValidationStatus('Пользователь успешно проверен!');\r\n          setValidationColor('text-green-500');\r\n        } else {\r\n          setValidationStatus('Ошибка: данные пользователя недействительны.');\r\n          setValidationColor('text-red-500');\r\n        }\r\n      } catch (error) {\r\n        console.error('Ошибка при отправке данных на сервер:', error);\r\n        setValidationStatus('Ошибка при проверке пользователя.');\r\n        setValidationColor('text-red-500');\r\n      }\r\n    };\r\n\r\n    validateUser();\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"flex min-h-screen flex-col items-center justify-center bg-gray-100 p-4\">\r\n      <div className={`text-center text-lg ${validationColor}`}>\r\n        {validationStatus}\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAHA,cAAc,0CAA0C;;;;AAKzC,SAAS;IACtB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,iCAAiC;QACjC,oJAAA,CAAA,SAAM,CAAC,KAAK;QAEZ,4BAA4B;QAC5B,IAAI,CAAC,oJAAA,CAAA,SAAM,CAAC,QAAQ,IAAI,oJAAA,CAAA,SAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,GAAG;YACpD,oBAAoB;YACpB,mBAAmB;YACnB;QACF;QAEA,QAAQ,GAAG,CAAC,sBAAsB,oJAAA,CAAA,SAAM,CAAC,QAAQ;QAEjD,0CAA0C;QAC1C,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,WAAW,MAAM,MACrB,wHACA;oBACE,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE,UAAU,oJAAA,CAAA,SAAM,CAAC,QAAQ;oBAAC;gBACnD;gBAGF,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,SAAS,MAAM,EAAE;gBACnD;gBAEA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAElC,iCAAiC;gBACjC,IAAI,OAAO,OAAO,EAAE;oBAClB,oBAAoB;oBACpB,mBAAmB;gBACrB,OAAO;oBACL,oBAAoB;oBACpB,mBAAmB;gBACrB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yCAAyC;gBACvD,oBAAoB;gBACpB,mBAAmB;YACrB;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAW,CAAC,oBAAoB,EAAE,iBAAiB;sBACrD;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/admin/Desktop/GITHUB/TelegramShopFrontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}